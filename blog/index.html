<html>
  <head>
    <title>Dan's Angry Ranting</title>
    <link href="/The-Conquerors/assets/css/style.css?v=25749f75fa82e3266d8da15dc7ca74104790b9e6" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <style>
      h1, h2, h3, h4, h5, h6 {
        font-family: Georgia, Times, serif;
      }
      p, div {
        font-family: Helvetica, Arial, sans-serif;
      }
      body {
        background-color:#24292e;
      }
      #content {
        margin: auto;
        margin-top:20px;
        width: 50%;
        border: 1px solid #bedfff;
        border-radius: 15px;
        padding: 10px;
        background-color:#fff;
      }
      ul {
        list-style-type: none;
      }
    </style>
    <script>
      function loadPosts() {
        var randomNumber = Math.floor(Math.random() * (10000 - 0 + 1)) + 0;
        $.ajax({
          type: "GET" ,
          url: "posts.xml?"+randomNumber ,
          dataType: "xml" ,
          success: function(xml) {
            $(xml).find('post').each(function(index){
              if (index!=0) {
                $("#post-list").append('<br>');
              }
              $("#post-list").append('<li><a href="post.html?'+randomNumber+'&title='+$(this).find('title').text()+'&source='+$(this).find('source').text()+'?'+randomNumber+'">' + $(this).find('title').text() + '</a><ul><li>Published '+$(this).find('date').text()+'</li></ul></li>');  
            }); 
          }       
        });
      }
      
      $(document).ready(function (){
        loadPosts();
      });
    </script>
  </head>
  <body>
    <div id="content">
      <h1 style="text-align:center;">Angry Rants</h1>
      <hr/>
      <div style="border:1px solid black;padding:20px;border-radius:25px;">
        <p>Behold.</p>
        <div id="posts" style="style=padding:20px;border-left:2px solid grey;">
          <ul id="post-list" style="margin:5px;"></ul>
        </div>
      </div>
    </div>
  </body>
</html>
